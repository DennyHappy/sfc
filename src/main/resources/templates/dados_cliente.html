<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <style>
        *{
            scroll-behavior: smooth;
        }
        ::-webkit-scrollbar-track {
            background-color: #F4F4F4;
            border-radius: 1em;
        }
        ::-webkit-scrollbar {
            border-radius: 1em;
            width: 6px;
            background: #F4F4F4;
        }
        ::-webkit-scrollbar-thumb {
            background: #dad7d7;
            border-radius: 1em;
        }
    </style>
    <title>Teste</title>
</head>
<body class="text-secondary">
    <div class="row row-cols-1 row-cols-md-3">
        <div class="col-md-4 mb-3">
            <div class="card">
                <div class="card-header">
                    <h6>Buscar Cliente</h6>
                </div>
                <div class="card-body">
                    <!-- IF CUSTOMER IS ANONYMOUS -->
                    <div th:if="${msg_busca}">
                        <div class="alert alert-danger text-center" role="alert" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-exclamation-octagon" viewBox="0 0 16 16">
                                <path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/>
                                <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
                            </svg>
                            <br>
                            <span th:text="${msg_busca}"></span>
                        </div>
                    </div>
                    <!-- ELSE -->
                    <div th:unless="${msg_busca}">

                    </div>
                    <div class="form-group">
                        <form action="#" th:action="@{'/buscarCliente/' + ${lj?.id}}" method="post">
                            <div class="form-group">
                                <label>Informe o CPF: *</label>
                                <input type="text" class="form-control form-control-sm" name="cpf" onkeypress="$(this).mask('000.000.000-00');">
                            </div>
                            <small class="form-text text-muted mb-3">(*) Campos Obrigatórios</small>
                            <div class="form-group" >
                                <input type="submit" value="Buscar" class="btn btn-success btn-sm col-6">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-8 mb-3">
            <div class="card">
                <div class="card-header">
                    <h6>Dados do Cliente</h6>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <div class="form-group">
                            <label>CPF:</label>
                            <input type="text" class="form-control form-control-sm" name="cpf" th:value="${cli?.cpf}" disabled>
                        </div>
                        <div class="form-group">
                            <label>Nome:</label>
                            <input type="text" class="form-control form-control-sm" name="nome" th:value="${cli?.nome}" disabled>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-3">
            <div class="card">
                <div class="card-header">
                    <h6>Cadastrar Compra</h6>
                </div>
                <div class="card-body">
                    <!-- IF CUSTOMER IS ANONYMOUS -->
                    <div th:if="${msg_compra}">
                        <div class="alert alert-danger text-center" role="alert" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-exclamation-octagon" viewBox="0 0 16 16">
                                <path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/>
                                <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
                            </svg>
                            <br>
                            <span th:text="${msg_compra}"></span>
                        </div>
                    </div>
                    <!-- ELSE -->
                    <div th:unless="${msg_compra}">

                    </div>
                    <div class="form-group">
                        <form action="#" th:action="@{'/cadastrarCompra/' + ${lj?.id} + '/' + ${cli?.id}}" method="post">
                            <div class="form-group">
                                <label>Descrição do(s) item(s) *</label>
                                <textarea class="form-control form-control-sm" name="descricao" rows="5"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Valor *</label>
                                <div class="input-group">
                                    <div class=" input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">R$</span>
                                    </div>
                                    <input type="text" class="form-control" name="valor_compra" onkeypress="$(this).mask('###0.00', {reverse: true});" placeholder="0.00">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Nota Fiscal *</label>
                                <input type="text" class="form-control form-control-sm" name="notaFiscal">
                            </div>
                            <small class="form-text text-muted mb-3">(*) Campos Obrigatórios</small>
                            <div class="form-group" >
                                <input type="submit" value="Cadastrar" class="btn btn-success btn-sm col-6">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-3">
            <div class="card">
                <div class="card-header">
                    <h6>Histórico de Compras</h6>
                </div>
                <div class="card-body">
                    <div th:each="compra : ${compras_cli}" class="alert alert-secondary col">
                        <div class="row">
                            <div class="col-6">
                                <font size="2">Loja: <i th:text="${compra.loja.nome}"></i></font><br>
                                <font size="2">Valor da Compra: R$ <i th:text="${compra.valor}"></i></font>
                            </div>
                            <div class="col-6 text-right">
                                <font size="2" class="ml-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-week" viewBox="0 0 16 16">
                                        <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
                                        <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                                    </svg>
                                    Data: <i th:text="${{compra.data}}"></i>
                                </font>
                                <a href="#" class="badge badge-light" data-toggle="tooltip" data-placement="left" th:title="${compra.descricao}">Ver Descrição</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
    <script>
        $('[data-toggle="tooltip"]').tooltip();
    </script>
</body>
</html>